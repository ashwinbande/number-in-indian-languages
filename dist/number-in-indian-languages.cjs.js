'use strict';

var english = {
   0:   '',
   1:   'One',
   2:   'Two',
   3:   'Three',
   4:   'Four',
   5:   'Five',
   6:   'Six',
   7:   'Seven',
   8:   'Eight',
   9:   'Nine',
   10:  'Ten',
   11:  'Eleven',
   12:  'Twelve',
   13:  'Thirteen',
   14:  'Fourteen',
   15:  'Fifteen',
   16:  'Sixteen',
   17:  'Seventeen',
   18:  'Eighteen',
   19:  'Nineteen',
   20:  'Twenty',
   21:  'Twenty One',
   22:  'Twenty Two',
   23:  'Twenty Three',
   24:  'Twenty Four',
   25:  'Twenty Five',
   26:  'Twenty Six',
   27:  'Twenty Seven',
   28:  'Twenty Eight',
   29:  'Twenty Nine',
   30:  'Thirty',
   31:  'Thirty One',
   32:  'Thirty Two',
   33:  'Thirty Three',
   34:  'Thirty Four',
   35:  'Thirty Five',
   36:  'Thirty Six',
   37:  'Thirty Seven',
   38:  'Thirty Eight',
   39:  'Thirty Nine',
   40:  'Forty',
   41:  'Forty One',
   42:  'Forty Two',
   43:  'Forty Three',
   44:  'Forty Four',
   45:  'Forty Five',
   46:  'Forty Six',
   47:  'Forty Seven',
   48:  'Forty Eight',
   49:  'Forty Nine',
   50:  'Fifty',
   51:  'Fifty One',
   52:  'Fifty Two',
   53:  'Fifty Three',
   54:  'Fifty Four',
   55:  'Fifty Five',
   56:  'Fifty Six',
   57:  'Fifty Seven',
   58:  'Fifty Eight',
   59:  'Fifty Nine',
   60:  'Sixty',
   61:  'Sixty One',
   62:  'Sixty Two',
   63:  'Sixty Three',
   64:  'Sixty Four',
   65:  'Sixty Five',
   66:  'Sixty Six',
   67:  'Sixty Seven',
   68:  'Sixty Eight',
   69:  'Sixty Nine',
   70:  'Seventy',
   71:  'Seventy One',
   72:  'Seventy Two',
   73:  'Seventy Three',
   74:  'Seventy Four',
   75:  'Seventy Five',
   76:  'Seventy Six',
   77:  'Seventy Seven',
   78:  'Seventy Eight',
   79:  'Seventy Nine',
   80:  'Eighty',
   81:  'Eighty One',
   82:  'Eighty Two',
   83:  'Eighty Three',
   84:  'Eighty Four',
   85:  'Eighty Five',
   86:  'Eighty Six',
   87:  'Eighty Seven',
   88:  'Eighty Eight',
   89:  'Eighty Nine',
   90:  'Ninety',
   91:  'Ninety One',
   92:  'Ninety Two',
   93:  'Ninety Three',
   94:  'Ninety Four',
   95:  'Ninety Five',
   96:  'Ninety Six',
   97:  'Ninety Seven',
   98:  'Ninety Eight',
   99:  'Ninety Nine',
   1e2: 'Hundred',
   1e3: 'Thousand',
   1e5: 'Lakh',
   1e7: 'Crore',
   negative: 'Negative',
   numbers: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
};

var marathi = {
  1:'एक',
  2:'दोन',
  3:'तीन',
  4:'चार',
  5:'पाच',
  6:'सहा',
  7:'सात',
  8:'आठ',
  9:'नऊ',
  10:'दहा',
  11:'अकरा',
  12:'बारा',
  13:'तेरा',
  14:'चौदा',
  15:'पंधरा',
  16:'सोळा',
  17:'सतरा',
  18:'अठरा',
  19:'एकोणीस',
  20:'वीस',
  21:'एकवीस',
  22:'बावीस',
  23:'तेवीस',
  24:'चोवीस',
  25:'पंचवीस',
  26:'सव्वीस',
  27:'सत्तावीस',
  28:'अठ्ठावीस',
  29:'एकोणतीस',
  30:'तीस',
  31:'एकतीस',
  32:'बत्तीस',
  33:'तेहेतीस',
  34:'चौतीस',
  35:'पस्तीस',
  36:'छत्तीस',
  37:'सदतीस',
  38:'अडतीस',
  39:'एकोणचाळीस',
  40:'चाळीस',
  41:'एक्केचाळीस',
  42:'बेचाळीस',
  43:'त्रेचाळीस',
  44:'चव्वेचाळीस',
  45:'पंचेचाळीस',
  46:'सेहेचाळीस',
  47:'सत्तेचाळीस',
  48:'अठ्ठेचाळीस',
  49:'एकोणपन्नास',
  50:'पन्नास',
  51:'एक्कावन्न',
  52:'बावन्न',
  53:'त्रेपन्न',
  54:'चोपन्न',
  55:'पंचावन्न',
  56:'छप्पन्न',
  57:'सत्तावन्न',
  58:'अठ्ठावन्न',
  59:'एकोणसाठ',
  60:'साठ',
  61:'एकसष्ठ',
  62:'बासष्ठ',
  63:'त्रेसष्ठ',
  64:'चौसष्ठ',
  65:'पासष्ठ',
  66:'सहासष्ठ',
  67:'सदुसष्ठ',
  68:'अडुसष्ठ',
  69:'एकोणसत्तर',
  70:'सत्तर',
  71:'एक्काहत्तर',
  72:'बाहत्तर',
  73:'त्र्याहत्तर',
  74:'चौर्‍याहत्तर^',
  75:'पंच्याहत्तर',
  76:'शहात्तर',
  77:'सत्याहत्तर',
  78:'अठ्ठ्याहत्तर',
  79:'एकोणऐंशी',
  80:'ऐंशी',
  81: 'एक्क्याऐंशी',
  82: 'ब्याऐंशी',
  83: 'त्र्याऐंशी',
  84: 'चौऱ्याऐंशी',
  85: 'पंच्याऐंशी',
  86: 'शहाऐंशी',
  87: 'सत्त्याऐंशी',
  88: 'अठ्ठ्याऐंशी',
  89: 'एकोणनव्वद',
  90: 'नव्वद',
  91: 'एक्क्याण्णव',
  92: 'ब्याण्णव',
  93: 'त्र्याण्णव',
  94: 'चौऱ्याण्णव',
  95: 'पंच्याण्णव',
  96: 'शहाण्णव',
  97: 'सत्त्याण्णव',
  98: 'अठ्ठ्याण्णव',
  99: 'नव्व्याण्णव',
  1e2: 'शे',
  1e3: 'हजार',
  1e5: 'लाख',
  1e7: 'कोटी',
  negative: 'ऋण',
  numbers: ['०','१','२','३','४','५','६','७','८','९'],

};

var gujrati = {
  1:  'એક',
  2:  'બે',
  3:  'ત્રણ',
  4:  'ચાર',
  5:  'પાંચ',
  6:  'છ',
  7:  'સાત',
  8:  'આઠ',
  9:  'નવ',
  10: 'દસ',
  11: 'અગિયાર',
  12: 'બાર',
  13: 'તેર',
  14: 'ચૌદ',
  15: 'પંદર',
  16: 'સોળ',
  17: 'સત્તર',
  18: 'અઢાર',
  19: 'ઓગણિસ',
  20: 'વીસ',
  21: 'એકવીસ',
  22: 'બાવીસ',
  23: 'તેવીસ',
  24: 'ચોવીસ',
  25: 'પચ્ચીસ',
  26: 'છવીસ',
  27: 'સત્તાવીસ',
  28: 'અઠ્ઠાવીસ',
  29: 'ઓગણત્રીસ',
  30: 'ત્રીસ',
  31: 'એકત્રીસ',
  32: 'બત્રીસ',
  33: 'તેત્રીસ',
  34: 'ચોત્રીસ',
  35: 'પાંત્રીસ',
  36: 'છત્રીસ',
  37: 'સડત્રીસ',
  38: 'અડત્રીસ',
  39: 'ઓગણચાલીસ',
  40: 'ચાલીસ',
  41: 'એકતાલીસ',
  42: 'બેતાલીસ',
  43: 'ત્રેતાલીસ',
  44: 'ચુંમાલીસ',
  45: 'પિસ્તાલીસ',
  46: 'છેતાલીસ',
  47: 'સુડતાલીસ',
  48: 'અડતાલીસ',
  49: 'ઓગણપચાસ',
  50: 'પચાસ',
  51: 'એકાવન',
  52: 'બાવન',
  53: 'ત્રેપન',
  54: 'ચોપન',
  55: 'પંચાવન',
  56: 'છપ્પન',
  57: 'સત્તાવન',
  58: 'અઠ્ઠાવન',
  59: 'ઓગણસાઠ',
  60: 'સાઈઠ',
  61: 'એકસઠ',
  62: 'બાસઠ',
  63: 'ત્રેસઠ',
  64: 'ચોસઠ',
  65: 'પાંસઠ',
  66: 'છાસઠ',
  67: 'સડસઠ',
  68: 'અડસઠ',
  69: 'અગણોસિત્તેર',
  70: 'સિત્તેર',
  71: 'એકોતેર',
  72: 'બોતેર',
  73: 'તોતેર',
  74: 'ચુમોતેર',
  75: 'પંચોતેર',
  76: 'છોતેર',
  77: 'સિત્યોતેર',
  78: 'ઇઠ્યોતેર',
  79: 'ઓગણાએંસી',
  80: 'એંસી',
  81: 'એક્યાસી',
  82: 'બ્યાસી',
  83: 'ત્યાસી',
  84: 'ચોર્યાસી',
  85: 'પંચાસી',
  86: 'છ્યાસી',
  87: 'સિત્યાસી',
  88: 'ઈઠ્યાસી',
  89: 'નેવ્યાસી',
  90: 'નેવું',
  91: 'એકાણું',
  92: 'બાણું',
  93: 'ત્રાણું',
  94: 'ચોરાણું',
  95: 'પંચાણું̄',
  96: 'છન્નું',
  97: 'સત્તાણું',
  98: 'અઠ્ઠાણું',
  99: 'નવ્વાણું',
  1e2: 'સો',
  1e3: 'હજાર',
  1e5: 'લાખ',
  1e7: 'કરોડ઼',
  negative: 'નકારાત્મક',
  numbers: ['૦','૧','૨','૩','૪','૫','૬','૭','૮','૯'],
};

const defaults = {
  separator: ',',
  majorPrefix: '',
  majorSuffix: '',
  minorPrefix: '',
  minorSuffix: '',
  prefix: '',
  suffix: '',
};

function getString(p67, p45, p3, p12, decimal, l, obj) {
  const lakh = !!p67 ? `${l[p67]} ${l[1e5]}${obj.separator} ` : '';
  const thousand = !!p45 ? `${l[p45]} ${l[1e3]}${obj.separator} ` : '';
  const hundred = !!p3 ? `${l[p3]}${l[1e2]} ` : '';
  const dec = !!p12 ? `${l[p12]} ` : '';
  const majorSuffix = obj.majorSuffix ? `${obj.majorSuffix} `: '';
  const point = decimal ? `${majorSuffix}${obj.minorPrefix || '.'} ${l[decimal]} ${obj.minorSuffix}`: '';
  return `${lakh}${thousand}${hundred}${dec}${point}`;
}

function inWords(num, language = 'ENG', options) {
  const obj = { ...defaults, ...options};

  let lang;
  let number = Number(num);
  let negative = false;
  if (!number) return '';
  number = Math.round((number + 0.00001) * 100);
  if (number < 0) {
    negative = true;
    number *= -1;
  }
  const arr = String(number).split('').reverse();
  const decimal = Number(`${arr[1] || 0 }${arr[0] || 0 }`);
  const p12     = Number(`${arr[3] || 0 }${arr[2] || 0 }`); // dec
  const p3      = Number(`${arr[4] || 0 }`); // hundred
  const p45     = Number(`${arr[6] || 0 }${arr[5] || 0 }`); // thousand
  const p67     = Number(`${arr[8] || 0 }${arr[7] || 0 }`); // lakh
  const remaining = arr.filter((x,i) => i >8).reverse().join('');

  if (language === 'ENG') lang = english;
  else if (language === 'MAR') lang = marathi;
  else if (language === 'GUJ') lang = gujrati;

  let remString = inWords(remaining, language, {separator: obj.separator});
  remString = remString ? `${remString}${lang[1e7]}${obj.separator} `: '';
  const sign = negative ? `${lang.negative} ` : '';
  const majorPrefix = obj.majorPrefix ? `${obj.majorPrefix} `: '';
  const prefix = obj.prefix ? `${obj.prefix} `: '';
  const suffix = obj.suffix ? ` ${obj.suffix}`: '';
  return `${prefix}${majorPrefix}${sign}${remString}${getString(p67, p45, p3, p12, decimal, lang, obj)}${suffix}`.replace(/\s\s+/g, ' ');
}

var main = {inWords};

module.exports = main;
